{% extends "zfc/basic.html" %}
{% block content %}
<div class="container">

<table class="table table-borderless">
  <tbody>
    <tr>
      <th scope="row">Job ID:</th>
      <td>{{ job_id }}</td>
    </tr>
    <tr>
      <th scope="row">Result Page:</th>
      <td><a href="{{ result_url }}">{{ result_url }}</a></td>
    </tr>
    <tr>
      <th scope="row">Job Status:</th>
      <td>{{ job_status }}</td>
    </tr>
    <tr>
      <th scope="row">File Status:</th>
      <td>{{ file_status }}</td>
    </tr>
    <tr>
      <th scope="row">Output Files:</th>
      <td>
        <form action="{% url 'zfc:download' job_id %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary" id="output_zip">Download</button>
        </form>
      </td>
    </tr>
  </tbody>
</table>

<!-- Figures -->
<ul class="nav nav-tabs md-tabs" id="figTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="tab_fig_counts_boxplot" data-toggle="tab" href="#fig_counts_boxplot" role="tab" aria-controls="fig_counts_boxplot"
      aria-selected="true">Boxplot counts</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="tab_fig_lfc_normcount_scatter" data-toggle="tab" href="#fig_lfc_normcount_scatter" role="tab" aria-controls="fig_lfc_normcount_scatter"
      aria-selected="false">Scatter LFC-normcount</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="tab_fig_zlfc_normcount_scatter" data-toggle="tab" href="#fig_zlfc_normcount_scatter" role="tab" aria-controls="fig_zlfc_normcount_scatter"
      aria-selected="false">Scatter ZLFC-normcount</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="tab_fig_sgrna_zlfc_rra_scatter" data-toggle="tab" href="#fig_sgrna_zlfc_rra_scatter" role="tab" aria-controls="fig_sgrna_zlfc_rra_scatter"
      aria-selected="false">Scatter RRA-ZLFC sgRNA</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="tab_fig_gene_zlfc_rra_scatter" data-toggle="tab" href="#fig_gene_zlfc_rra_scatter" role="tab" aria-controls="fig_gene_zlfc_rra_scatter"
      aria-selected="false">Scatter RRA-ZLFC Gene</a>
  </li>
</ul>
<div class="tab-content" id="figTabCards">
  <div class="tab-pane fade show active" id="fig_counts_boxplot" role="tabpanel" aria-labelledby="tab_fig_counts_boxplot">
    <div class="card my-3">
      <img class="card-img-top" src="{{ image_counts_boxplot }}" />
      <div class="card-body">
        <h5 class="card-title">Boxplot of counts</h5>
        <p class="card-text">The boxplot shows the counts situation of control and experiment groups before and after normalization.</p>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="fig_lfc_normcount_scatter" role="tabpanel" aria-labelledby="tab_fig_lfc_normcount_scatter">
    <div class="card my-3">
      <img class="card-img-top" src="{{ image_lfc_normcount_scatter }}" />
      <div class="card-body">
        <h5 class="card-title">Scatterplot of LFC v.s. normalized count</h5>
        <p class="card-text">The scatterplot shows the distribution of log fold change and the normalized counts in control and experiment groups.</p>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="fig_zlfc_normcount_scatter" role="tabpanel" aria-labelledby="tab_fig_zlfc_normcount_scatter">
    <div class="card my-3">
      <img class="card-img-top" src="{{ image_zlfc_normcount_scatter }}" />
      <div class="card-body">
        <h5 class="card-title">Scatterplot of ZLFC v.s. normalized count</h5>
        <p class="card-text">The scatterplot shows the distribution of z score of log fold change and the normalized counts in control and experiment groups.</p>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="fig_sgrna_zlfc_rra_scatter" role="tabpanel" aria-labelledby="tab_fig_sgrna_zlfc_rra_scatter">
    <div class="card my-3">
      <img class="card-img-top" src="{{ image_sgrna_zlfc_rra_scatter }}" />
      <div class="card-body">
        <h5 class="card-title">Scatterplot of RRA v.s. ZLFC for sgRNA</h5>
        <p class="card-text">The scatterplot shows RRA and ZLFC of sgRNA.</p>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="fig_gene_zlfc_rra_scatter" role="tabpanel" aria-labelledby="tab_fig_gene_zlfc_rra_scatter">
    <div class="card my-3">
      <img class="card-img-top" src="{{ image_gene_zlfc_rra_scatter }}" />
      <div class="card-body">
        <h5 class="card-title">Scatterplot of RRA v.s. ZLFC for gene</h5>
        <p class="card-text">The scatterplot shows RRA and ZLFC of gene.</p>
      </div>
    </div>
  </div>
</div>

</div>
{% endblock %}
